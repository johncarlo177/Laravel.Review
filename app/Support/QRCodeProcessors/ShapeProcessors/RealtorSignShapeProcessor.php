<?php

namespace App\Support\QRCodeProcessors\ShapeProcessors;

class RealtorSignShapeProcessor extends BaseShapeProcessor
{
    public static $shapeId = 'realtor-sign';

    public function symbolPath()
    {
        return 'm 34.533203,1.2050781 c -1.036711,0.7860471 -2.884283,1.160226 -2.438811,2.7729703 -0.01388,13.0034106 -0.02777,26.0068216 -0.04165,39.0102326 1.703776,0 3.407552,0 5.111328,0 0,-13.399088 0,-26.798177 0,-40.1972654 C 36.291363,2.2559354 35.466996,1.6346663 34.533203,1.2050781 Z M 1.046875,4.9433594 c 0,1.313151 0,2.6263021 0,3.9394531 9.972005,0 19.944011,0 29.916016,0 0,-1.313151 0,-2.6263021 0,-3.9394531 -9.972005,0 -19.944011,0 -29.916016,0 z m 3.0800781,8.0429686 c -2.2044238,0.604753 -1.6818062,3.301722 -1.6985497,5.036633 0.00568,2.563616 -0.1539252,5.134392 0.093081,7.691883 1.0400228,2.214585 3.8576882,1.124872 5.7677849,1.39933 5.1698437,0.01804 10.3397077,-0.0024 15.5095587,-0.0048 1.96408,-0.653357 1.652197,-3.056498 1.615634,-4.69072 -0.01182,-2.644401 0.0495,-5.291361 -0.100939,-7.933111 -1.134967,-2.400274 -4.191594,-1.114897 -6.25342,-1.463086 -4.977702,-0.01753 -9.9554337,-0.02398 -14.9331499,-0.03608 z';
    }

    protected function frameNode()
    {
        return $this->makeSinglePathUsedSymbol(
            'symbol-frame-' . $this::$shapeId,
            $this->symbolViewBox(),
            'M 40.384,43 H 38.218 V 2.487 c 0,-0.171 -0.086,-0.33 -0.23,-0.422 L 34.865,0.078 c -0.162,-0.104 -0.371,-0.104 -0.537,0 L 31.205,2.065 C 31.059,2.157 30.974,2.316 30.974,2.487 V 3.925 H 0.5 C 0.224,3.925 0,4.15 0,4.425 v 4.971 c 0,0.276 0.224,0.5 0.5,0.5 h 5.48 v 2.05 H 4.503 c -1.746,0 -3.166,1.421 -3.166,3.167 v 9.877 c 0,1.746 1.42,3.166 3.166,3.166 h 18.8 c 1.746,0 3.166,-1.42 3.166,-3.166 v -9.877 c 0,-1.746 -1.42,-3.167 -3.166,-3.167 h -1.479 v -2.05 h 9.149 V 43 h -2.166 c -0.276,0 -0.5,0.224 -0.5,0.5 0,0.275 0.224,0.5 0.5,0.5 h 11.578 c 0.277,0 0.5,-0.225 0.5,-0.5 C 40.884,43.224 40.662,43 40.384,43 Z M 25.466,15.113 v 9.877 c 0,1.194 -0.971,2.166 -2.166,2.166 H 4.502 c -1.194,0 -2.166,-0.972 -2.166,-2.166 v -9.877 c 0,-1.195 0.972,-2.167 2.166,-2.167 h 18.799 c 1.195,0 2.165,0.972 2.165,2.167 z M 20.823,11.946 H 6.98 V 9.896 H 20.823 Z M 1,8.897 V 4.927 H 30.974 V 8.898 H 1 Z M 31.972,2.762 34.596,1.093 37.218,2.762 V 43 h -5.246 z',
            $this->frameId()
        );
    }

    protected function renderStyles()
    {
        return sprintf('.foreground-0 {
            transform: translate(-19%%, -9.5%%) scale(3);
        }
        .foreground-1 {
            mask: url(#%s);
        }', $this->maskId());
    }

    protected function modifiedViewBox()
    {
        return sprintf(
            '%1$s %1$s %2$s %2$s',
            -$this->output->size * 4,
            $this->output->size * 10
        );
    }

    protected function frameStrokeWidth()
    {
        return 0.2;
    }

    public function symbolViewBox()
    {
        return '0 0 41.084998 44.199886';
    }
}
